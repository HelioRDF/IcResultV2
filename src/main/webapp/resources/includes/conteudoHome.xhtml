<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
	<h:form>
		<p:tabView dynamic="true" cache="true">
			<p:tab title="Mapa do Aplicação">
				<p:fieldset style="width:400px;">
					<p:mindmap value="#{mapaSiteBean.raiz}"
						style="width: 100%;height: 400px;border: 1px solid black;">
						<p:ajax event="select" listener="#{mapaSiteBean.onNodeSelect}" />
						<p:ajax event="dblselect"
							listener="#{mapaSiteBean.onNodeDblselect}" update="output"
							oncomplete="PF('detalhes').show();" />
					</p:mindmap>

					<p:dialog widgetVar="detalhes" header="Informações"
						resizable="false" modal="true" showEffect="fade" hideEffect="fade">
						<h:outputText id="output"
							value="#{mapaSiteBean.galhoSelecionado.data}" />
					</p:dialog>
				</p:fieldset>
			</p:tab>
		</p:tabView>
	</h:form>
	<!--Fim do Rodapé da Página -->
</ui:composition>